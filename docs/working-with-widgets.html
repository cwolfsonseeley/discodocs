<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Documentation for discoveryengine</title>
  <meta name="description" content="Some documentation for the discoveryengine">
  <meta name="generator" content="bookdown 0.4 and GitBook 2.6.7">

  <meta property="og:title" content="Documentation for discoveryengine" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Some documentation for the discoveryengine" />
  <meta name="github-repo" content="tarakc02/discodocs" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Documentation for discoveryengine" />
  
  <meta name="twitter:description" content="Some documentation for the discoveryengine" />
  

<meta name="author" content="Tarak Shah">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="intro-example.html">
<link rel="next" href="brainstorm-bot.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-0.8/htmlwidgets.js"></script>
<script src="libs/datatables-binding-0.2/datatables.js"></script>
<link href="libs/dt-core-1.10.12/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.12/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.12/js/jquery.dataTables.min.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Documentation for the discoveryengine</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Disco</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#contribute-to-the-disco-engine"><i class="fa fa-check"></i><b>1.1</b> Contribute to the Disco Engine</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#contribute-to-this-documentation"><i class="fa fa-check"></i><b>1.2</b> Contribute to this documentation</a></li>
</ul></li>
<li class="part"><span><b>I Preliminaries</b></span></li>
<li class="chapter" data-level="2" data-path="what-is-disco.html"><a href="what-is-disco.html"><i class="fa fa-check"></i><b>2</b> What is the Disco Engine?</a><ul>
<li class="chapter" data-level="2.1" data-path="what-is-disco.html"><a href="what-is-disco.html#vocabulary-and-grammar"><i class="fa fa-check"></i><b>2.1</b> Vocabulary and Grammar</a></li>
<li class="chapter" data-level="2.2" data-path="what-is-disco.html"><a href="what-is-disco.html#facilitating-discovery"><i class="fa fa-check"></i><b>2.2</b> Facilitating discovery</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="r-intro.html"><a href="r-intro.html"><i class="fa fa-check"></i><b>3</b> Introduction to R and RStudio</a></li>
<li class="chapter" data-level="4" data-path="installation.html"><a href="installation.html"><i class="fa fa-check"></i><b>4</b> Installation</a><ul>
<li class="chapter" data-level="4.1" data-path="installation.html"><a href="installation.html#required-packages"><i class="fa fa-check"></i><b>4.1</b> Required packages</a></li>
<li class="chapter" data-level="4.2" data-path="installation.html"><a href="installation.html#a-disco-test"><i class="fa fa-check"></i><b>4.2</b> A disco test</a></li>
</ul></li>
<li class="part"><span><b>II Basics</b></span></li>
<li class="chapter" data-level="5" data-path="intro-example.html"><a href="intro-example.html"><i class="fa fa-check"></i><b>5</b> An introductory example</a><ul>
<li class="chapter" data-level="5.1" data-path="intro-example.html"><a href="intro-example.html#develop-a-strategy"><i class="fa fa-check"></i><b>5.1</b> Develop a strategy</a></li>
<li class="chapter" data-level="5.2" data-path="intro-example.html"><a href="intro-example.html#intro-example-create-def"><i class="fa fa-check"></i><b>5.2</b> Create the definition</a></li>
<li class="chapter" data-level="5.3" data-path="intro-example.html"><a href="intro-example.html#send-the-definition-to-the-cdw"><i class="fa fa-check"></i><b>5.3</b> Send the definition to the CDW</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="working-with-widgets.html"><a href="working-with-widgets.html"><i class="fa fa-check"></i><b>6</b> Working with widgets</a><ul>
<li class="chapter" data-level="6.1" data-path="working-with-widgets.html"><a href="working-with-widgets.html#working-with-finding-widgets"><i class="fa fa-check"></i><b>6.1</b> Finding widgets</a></li>
<li class="chapter" data-level="6.2" data-path="working-with-widgets.html"><a href="working-with-widgets.html#codes-and-synonyms"><i class="fa fa-check"></i><b>6.2</b> Codes and synonyms</a></li>
<li class="chapter" data-level="6.3" data-path="working-with-widgets.html"><a href="working-with-widgets.html#synonym-search"><i class="fa fa-check"></i><b>6.3</b> Synonym search</a></li>
<li class="chapter" data-level="6.4" data-path="working-with-widgets.html"><a href="working-with-widgets.html#use-defaults"><i class="fa fa-check"></i><b>6.4</b> Use the default cases</a></li>
<li class="chapter" data-level="6.5" data-path="working-with-widgets.html"><a href="working-with-widgets.html#detailed-controls"><i class="fa fa-check"></i><b>6.5</b> Detailed controls</a></li>
<li class="chapter" data-level="6.6" data-path="working-with-widgets.html"><a href="working-with-widgets.html#combining-widgets"><i class="fa fa-check"></i><b>6.6</b> Combining widgets</a></li>
<li class="chapter" data-level="6.7" data-path="working-with-widgets.html"><a href="working-with-widgets.html#combination-example"><i class="fa fa-check"></i><b>6.7</b> Combination example</a></li>
<li class="chapter" data-level="6.8" data-path="working-with-widgets.html"><a href="working-with-widgets.html#combination-example-2"><i class="fa fa-check"></i><b>6.8</b> Combination example 2</a></li>
</ul></li>
<li class="part"><span><b>III Bots</b></span></li>
<li class="chapter" data-level="7" data-path="brainstorm-bot.html"><a href="brainstorm-bot.html"><i class="fa fa-check"></i><b>7</b> The Brainstorm Bot</a><ul>
<li class="chapter" data-level="7.1" data-path="brainstorm-bot.html"><a href="brainstorm-bot.html#search-features"><i class="fa fa-check"></i><b>7.1</b> Search features</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="matrix-bot.html"><a href="matrix-bot.html"><i class="fa fa-check"></i><b>8</b> The Matrix Bot</a><ul>
<li class="chapter" data-level="8.1" data-path="matrix-bot.html"><a href="matrix-bot.html#introduction"><i class="fa fa-check"></i><b>8.1</b> Introduction</a></li>
<li class="chapter" data-level="8.2" data-path="matrix-bot.html"><a href="matrix-bot.html#what-it-is"><i class="fa fa-check"></i><b>8.2</b> What it is</a></li>
<li class="chapter" data-level="8.3" data-path="matrix-bot.html"><a href="matrix-bot.html#example"><i class="fa fa-check"></i><b>8.3</b> Example</a></li>
<li class="chapter" data-level="8.4" data-path="matrix-bot.html"><a href="matrix-bot.html#botstrapping"><i class="fa fa-check"></i><b>8.4</b> Botstrapping</a></li>
<li class="chapter" data-level="8.5" data-path="matrix-bot.html"><a href="matrix-bot.html#how-does-it-work"><i class="fa fa-check"></i><b>8.5</b> How does it work?</a></li>
</ul></li>
<li class="part"><span><b>IV Advanced</b></span></li>
<li class="chapter" data-level="9" data-path="optional-arguments.html"><a href="optional-arguments.html"><i class="fa fa-check"></i><b>9</b> Optional arguments</a><ul>
<li class="chapter" data-level="9.1" data-path="optional-arguments.html"><a href="optional-arguments.html#opt-events"><i class="fa fa-check"></i><b>9.1</b> Event invitees and attendees</a></li>
<li class="chapter" data-level="9.2" data-path="optional-arguments.html"><a href="optional-arguments.html#date-ranges"><i class="fa fa-check"></i><b>9.2</b> Date ranges</a></li>
<li class="chapter" data-level="9.3" data-path="optional-arguments.html"><a href="optional-arguments.html#graduate-undergraduate-attendee"><i class="fa fa-check"></i><b>9.3</b> Graduate, undergraduate, attendee</a></li>
<li class="chapter" data-level="9.4" data-path="optional-arguments.html"><a href="optional-arguments.html#workarounds-inactive-only"><i class="fa fa-check"></i><b>9.4</b> Workarounds: inactive only</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="higher-order-widgets.html"><a href="higher-order-widgets.html"><i class="fa fa-check"></i><b>10</b> Higher order widgets</a><ul>
<li class="chapter" data-level="10.1" data-path="higher-order-widgets.html"><a href="higher-order-widgets.html#children-of-wealth"><i class="fa fa-check"></i><b>10.1</b> Children of wealth</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="non-entity-widgets.html"><a href="non-entity-widgets.html"><i class="fa fa-check"></i><b>11</b> Non-entity widgets</a><ul>
<li class="chapter" data-level="11.1" data-path="non-entity-widgets.html"><a href="non-entity-widgets.html#motivation"><i class="fa fa-check"></i><b>11.1</b> Motivation</a></li>
<li class="chapter" data-level="11.2" data-path="non-entity-widgets.html"><a href="non-entity-widgets.html#non-entity-disco-definition-types"><i class="fa fa-check"></i><b>11.2</b> Disco Definition Types</a></li>
<li class="chapter" data-level="11.3" data-path="non-entity-widgets.html"><a href="non-entity-widgets.html#searching-fund-text"><i class="fa fa-check"></i><b>11.3</b> Searching fund text</a></li>
<li class="chapter" data-level="11.4" data-path="non-entity-widgets.html"><a href="non-entity-widgets.html#from-funds-to-entities"><i class="fa fa-check"></i><b>11.4</b> From funds to entities</a></li>
<li class="chapter" data-level="11.5" data-path="non-entity-widgets.html"><a href="non-entity-widgets.html#non-entity-converters"><i class="fa fa-check"></i><b>11.5</b> “Converters”</a></li>
</ul></li>
<li class="part"><span><b>V Examples</b></span></li>
<li class="chapter" data-level="12" data-path="ex-political-economy.html"><a href="ex-political-economy.html"><i class="fa fa-check"></i><b>12</b> Political economy list</a></li>
<li class="chapter" data-level="13" data-path="ex-lybunt.html"><a href="ex-lybunt.html"><i class="fa fa-check"></i><b>13</b> LYBUNTs</a></li>
<li class="chapter" data-level="14" data-path="ex-recent-band-parents.html"><a href="ex-recent-band-parents.html"><i class="fa fa-check"></i><b>14</b> Recent Band Parents</a><ul>
<li class="chapter" data-level="14.1" data-path="ex-recent-band-parents.html"><a href="ex-recent-band-parents.html#recent-band-members"><i class="fa fa-check"></i><b>14.1</b> Recent band members</a></li>
<li class="chapter" data-level="14.2" data-path="ex-recent-band-parents.html"><a href="ex-recent-band-parents.html#find-their-parents"><i class="fa fa-check"></i><b>14.2</b> Find their parents</a></li>
<li class="chapter" data-level="14.3" data-path="ex-recent-band-parents.html"><a href="ex-recent-band-parents.html#who-live-close-enough"><i class="fa fa-check"></i><b>14.3</b> Who live close enough</a></li>
<li class="chapter" data-level="14.4" data-path="ex-recent-band-parents.html"><a href="ex-recent-band-parents.html#how-many"><i class="fa fa-check"></i><b>14.4</b> How many?</a></li>
<li class="chapter" data-level="14.5" data-path="ex-recent-band-parents.html"><a href="ex-recent-band-parents.html#householding"><i class="fa fa-check"></i><b>14.5</b> Householding</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="ex-near-builder.html"><a href="ex-near-builder.html"><i class="fa fa-check"></i><b>15</b> Nearing Builder of Berkeley Status</a><ul>
<li class="chapter" data-level="15.1" data-path="ex-near-builder.html"><a href="ex-near-builder.html#defining-close"><i class="fa fa-check"></i><b>15.1</b> Defining close</a></li>
<li class="chapter" data-level="15.2" data-path="ex-near-builder.html"><a href="ex-near-builder.html#householding-1"><i class="fa fa-check"></i><b>15.2</b> Householding</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="ex-sim-donors.html"><a href="ex-sim-donors.html"><i class="fa fa-check"></i><b>16</b> Donors who aren’t degreeholders</a><ul>
<li class="chapter" data-level="16.1" data-path="ex-sim-donors.html"><a href="ex-sim-donors.html#why-it-works"><i class="fa fa-check"></i><b>16.1</b> Why it works</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="test-cdw.html"><a href="test-cdw.html"><i class="fa fa-check"></i><b>A</b> Test your database set up</a><ul>
<li class="chapter" data-level="A.1" data-path="test-cdw.html"><a href="test-cdw.html#test-your-connection"><i class="fa fa-check"></i><b>A.1</b> Test your connection</a></li>
<li class="chapter" data-level="A.2" data-path="test-cdw.html"><a href="test-cdw.html#opening-rstudio"><i class="fa fa-check"></i><b>A.2</b> Opening RStudio</a></li>
<li class="chapter" data-level="A.3" data-path="test-cdw.html"><a href="test-cdw.html#fixing-the-default-package-installation-directory"><i class="fa fa-check"></i><b>A.3</b> Fixing the default package installation directory</a></li>
<li class="chapter" data-level="A.4" data-path="test-cdw.html"><a href="test-cdw.html#installing-getcdw"><i class="fa fa-check"></i><b>A.4</b> Installing getcdw</a></li>
<li class="chapter" data-level="A.5" data-path="test-cdw.html"><a href="test-cdw.html#testing-getcdw"><i class="fa fa-check"></i><b>A.5</b> Testing getcdw</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="cheat-sheet.html"><a href="cheat-sheet.html"><i class="fa fa-check"></i><b>B</b> Cheat Sheet</a><ul>
<li class="chapter" data-level="B.1" data-path="cheat-sheet.html"><a href="cheat-sheet.html#getting-started"><i class="fa fa-check"></i><b>B.1</b> Getting started</a></li>
<li class="chapter" data-level="B.2" data-path="cheat-sheet.html"><a href="cheat-sheet.html#knowing-about-defaults"><i class="fa fa-check"></i><b>B.2</b> Knowing about defaults</a></li>
<li class="chapter" data-level="B.3" data-path="cheat-sheet.html"><a href="cheat-sheet.html#output"><i class="fa fa-check"></i><b>B.3</b> Output</a></li>
<li class="chapter" data-level="B.4" data-path="cheat-sheet.html"><a href="cheat-sheet.html#code-lookup"><i class="fa fa-check"></i><b>B.4</b> Code lookup</a></li>
<li class="chapter" data-level="B.5" data-path="cheat-sheet.html"><a href="cheat-sheet.html#the-best-widgets-for-.-.-."><i class="fa fa-check"></i><b>B.5</b> The best widgets for . . .</a></li>
<li class="chapter" data-level="B.6" data-path="cheat-sheet.html"><a href="cheat-sheet.html#text-search"><i class="fa fa-check"></i><b>B.6</b> Text search</a></li>
<li class="chapter" data-level="B.7" data-path="cheat-sheet.html"><a href="cheat-sheet.html#other"><i class="fa fa-check"></i><b>B.7</b> Other</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Documentation for discoveryengine</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="working-with-widgets" class="section level1">
<h1><span class="header-section-number">6</span> Working with widgets</h1>
<p>So far, we’ve used widgets in some simple examples. In this section, we’ll explore widgets in some more detail. As always, we’ll begin by loading the <code>discoveryengine</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(discoveryengine)</code></pre></div>
<div id="working-with-finding-widgets" class="section level2">
<h2><span class="header-section-number">6.1</span> Finding widgets</h2>
<p>There are two main ways to find widgets. The first is to use the <code>show_widgets</code> function. The function takes no arguments. When you run it, an interactive list of widgets, with short descriptions of each, will appear in your viewer window:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">show_widgets</span>()</code></pre></div>
<div id="htmlwidget-6083ca5bc2d2ed53a21e" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-6083ca5bc2d2ed53a21e">{"x":{"filter":"none","data":[["attended_event","has_reunion_year","gave_to_area","has_affiliation","has_capacity","has_degree_from","has_implied_capacity","has_interest","has_major_gift_score","has_philanthropic_affinity","in_unit_portfolio","lives_in_county","lives_in_msa","lives_in_zip","on_committee","participated_in","played_sport","received_award","works_in_county","works_in_msa","works_in_zip","majored_in","contact_text_contains","gave_to_department","fund_text_contains","is_a","contacted_entity_of","gave_to_fund","household","parent_of","child_of","related_to","fund_area","fund_miner","research_miner","fund_department","contact_unit","has_gift_planning_score","in_development_officer_portfolio","works_in_industry","has_occupation","has_record_type","in_suspect_pool","lives_near","works_near","has_position","rated_by","entities","funds","job_title_like","has_haas_score","has_cnr_score","lives_in_foreign_country","works_in_foreign_country"],["Lists entities who have participated in (an) event(s)","Lists entities with given reunion year(s)","Lists entities who gave to specific areas with minimum giving and specific date range","Lists entities with (an) affiliation(s)","Lists entities with capacity ratings","Lists entities with degrees from specific school(s)","Lists entities with implied capacity ratings","Lists entities with interest(s)","Lists entities with major gift scores","Lists entities with philanthropic affinity(ies)","Lists entities with proposals assigned to certain unit(s)","Lists entities who live in (a) certain county(ies)","Lists entities who live in (a) certain MSA(s)","Lists entities who live in (a) certain zip code(s)","Lists entities who are on/have been on committee(s)","Lists entities who participated in (a) student activity(s)","Lists entities who played (a) sport(s)","Lists entities who received (an) award(s)","Lists entities who work in (a) certain county(ies)","Lists entities who work in (a) certain MSA(s)","Lists entities who work in (a) certain zip code(s)","Lists entities who graduated with specific major(s)","Contact reports that contain the specified search string(s)","Lists entities who gave to specific departments with minimum giving and specific date range","Funds with notes/biographies that contain the specified search string(s)","Specify entity type (person or org) and status (active/deceased)","Entities who were contacted in specified contact reports","Entities who have given to specified funds","Get only the primary household entities from a defined list of entities","Get list of parents of specified entities","Get children of specified entities","Get relations of specified entities","Find funds with a particular area of giving code","Entities who gave to funds that match a keyword search","Entities with specific words/phrases in their research notes","Find funds with a particular department code","Find contact reports for a given unit code(s)","Lists entities with gift planning scores","Lists entities with proposals assigned to certain development officer(s)","Lists entities who work in a specific industry (NAICS)","Lists entities who have specific occupation code(s)","List entities with specified record type(s)","Lists entities in a given suspect pool","Lists entities who live within a specified distance of a location","Lists entities who work within a specified distance of a location","Lists entities with the specified position level code(s)","Lists entities rated by the given researcher(s) for the given time period (date range is optional)","Manually specify a list of entity IDs","Manually specify a list of allocation codes","Entities with specific words/phrases in their job titles","Lists entities with Haas School of Business predictive model scores","Lists entities with CNR predictive model scores","Lists entities who live in specific foreign country(ies)","Lists entities who work in specific foreign country(ies)"],["entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","contact_report_id","entity_id","allocation_code","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","allocation_code","entity_id","entity_id","allocation_code","contact_report_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","allocation_code","entity_id","entity_id","entity_id","entity_id","entity_id"],["first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","second-order","second-order","second-order","second-order","second-order","second-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order"],["event, activity, attended, participated","class campaign year, reunion, graduation year, class, alumni","area of giving, area, unit, giving, donor","affiliation","capacity, rating, rated","degree, college, school, attended","implied capacity, predictive model, capacity, likelihood","interest","major gift score, predictive model","philanthropic affinity, giving, interest, charitable giving","proposals, assignments, portfolio, office, unit","address, county, home, lives","address, MSA, geo code, home, lives","address, zip, zip code, home, lives","committee, member","student activity, clubs, participated","sports, athlete","award, honor, won, received","address, county, work, business","address, MSA, geo code, work, business","address, zip, zip code,work, business","major, college, school degree, attended, academic","contact report, text, finder, contact, visit, call","department of giving, department, giving, donor","fund, allocation, terms, biography, fund terms, fund biography, finder, giving","active, deceased, person, people, organization, organizations, corporate, corporation","contact report, contact, visit, call","giving","household, married, spouse","parents, family, relations, relationships, children, child","parents, family, relations, relationships, children, child","parents, family, relations, relationships, children, child","fund, allocation, giving, area","fund, allocation, terms, biography, fund terms, fund biography, finder, giving","research, finder, biography, wealth, rating","fund, allocation, giving, department","contact report, contact, visit, call, unit","gift planning, bequest, annuity, predictive model","proposals, assignments, portfolio, development officer, fundraiser","employment, work, SIC codes, NAICS codes,  occupation, employer","employment, work, occupation, job","record type, trustee, foundation, organization, alum, alumnus, alumni, parent, spouse, student","suspect pool","address, geo, geographic, radius, geographic search, distance, home","address, geo, geographic, radius, geographic search, distance, work, business","employment, work, position, president, director, c-level, CEO","research, rating, researcher, researched, rated, capacity, capacity rating, rating date","Entity ID, people, manual,  custom","allocation code, funds, individual fund","employment, work, occupation, employer, miner, text, finder","predictive model, haas, business","predictive model, CNR, college of natural resources, environment, environmental","address, country, home, lives, international, abroad, geo","address, country, work, business, international, abroad, geo"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>widget_name<\/th>\n      <th>description<\/th>\n      <th>ID.type<\/th>\n      <th>Order<\/th>\n      <th>key_words<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"order":[[1,"asc"]],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<p>You can browse the entire listing, or use the search bar at the top right to search for specific widgets.</p>
<p>The second way to search for widgets is to use the <code>widget_for</code> function. This function takes as an argument a search term, and finds all widgets that are related to that search term. For example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">widget_for</span>(<span class="st">&quot;giving&quot;</span>)</code></pre></div>
<pre><code>## fund_area:
##     Find funds with a particular area of giving code (type: allocation_code)
## fund_department:
##     Find funds with a particular department code (type: allocation_code)
## fund_miner:
##     Entities who gave to funds that match a keyword search (type: entity_id)
## fund_text_contains:
##     Funds with notes/biographies that contain the specified search string(s) (type: allocation_code)
## gave_to_area:
##     Lists entities who gave to specific areas with minimum giving and specific date range (type: entity_id)
## gave_to_department:
##     Lists entities who gave to specific departments with minimum giving and specific date range (type: entity_id)
## gave_to_fund:
##     Entities who have given to specified funds (type: entity_id)
## has_philanthropic_affinity:
##     Lists entities with philanthropic affinity(ies) (type: entity_id)</code></pre>
<p>Once you’ve found the widget you’re looking for, you can get additional information using R’s built-in help system. Just type a question mark followed by the name of the widget, e.g. <code>?gave_to_area</code>.</p>
</div>
<div id="codes-and-synonyms" class="section level2">
<h2><span class="header-section-number">6.2</span> Codes and synonyms</h2>
<p>You may have noticed in previous examples that widgets work with exact codes, such as <code>in_unit_portfolio(BU)</code> or with <em>synonyms</em>, such as <code>in_unit_portfolio(business)</code>. Synonyms will always be in lower-case, and may include any letter of the alphabet or the underscore “_&quot; character, and nothing else.</p>
<p>Use whichever feels more comfortable – there is no advantage to using codes vs. synonyms, though I personally find the synonyms easier to read and understand later on.</p>
</div>
<div id="synonym-search" class="section level2">
<h2><span class="header-section-number">6.3</span> Synonym search</h2>
<p>If you’re not sure of the code or synonym to use, try out the synonym search feature that works with most widgets. Instead of entering a code (<code>in_unit_portfolio(BU)</code>) or synonym (<code>in_unit_portfolio(business)</code>), enter a question mark followed by a search string:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">in_unit_portfolio</span>(?business)</code></pre></div>
<pre><code>##   synonym code
##  business   BU</code></pre>
<p>You can enter partial terms:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">in_unit_portfolio</span>(?sci)</code></pre></div>
<pre><code>##                       synonym code
##      lawrence_hall_of_science   LH
##        neuroscience_institute   NS
##  qb3_quantitative_biosciences   QB
##               letters_science   LS
##   greater_good_science_center   GG
##           letters_and_science   LS
##                  neuroscience   NS
##       quantitative_bioscience   QB
##      quantitative_biosciences   QB</code></pre>
<p>And even multiple search terms:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">in_unit_portfolio</span>(?bus, ?chem, ?public)</code></pre></div>
<pre><code>##                        synonym code
##                       business   BU
##                      chemistry   CH
##                  public_health   PH
##  communications_public_affairs   PA
##                  public_policy   PP</code></pre>
<p>Widgets can always accept multiple codes/synonyms as arguments, and even combinations of the two:</p>
<ul>
<li><code>gave_to_area(business)</code> would find anyone who has given to the school of Business</li>
<li><code>gave_to_area(business, chemistry)</code> would find anyone who has given to Business or to Chemistry</li>
<li><code>gave_to_area(HSB, COC)</code> is the same as above</li>
<li><code>gave_to_area(business, COC)</code> once again, the same thing</li>
</ul>
</div>
<div id="use-defaults" class="section level2">
<h2><span class="header-section-number">6.4</span> Use the default cases</h2>
<p>So by now you can probably figure out that <code>partcipated_in(uc_jazz_ensembles)</code> gets you alumni who participated in the UC Jazz Ensembles. But what if you’re actually looking for people who particpated in any student activity at all? Would you have to type out all (hundreds!) of them?</p>
<p>Luckily, no! In fact, all you have to do is type <code>participated_in()</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">did_anything =<span class="st"> </span><span class="kw">participated_in</span>()
<span class="kw">display</span>(did_anything)</code></pre></div>
<pre><code>## # A tibble: 211,397 x 1
##    entity_id
##        &lt;dbl&gt;
## 1     479293
## 2     978671
## 3     698424
## 4     882164
## 5     378663
## 6     642319
## 7     645485
## 8     583924
## 9    3063211
## 10    790879
## # ... with 211,387 more rows</code></pre>
<p>That seems a bit magical, doesn’t it? The reason that works is because every widget has a defined behavior for when no codes/synonyms are entered. These default behaviors aim to be sensible so that you can use them in an intuitive way. You can always find out exactly what is included in the default by using the help. For instance, by typing <code>?has_capacity</code> I find out that entering <code>has_capacity()</code> without any specific ratings will find anyone with a researched capacity rating between 1 and 14 (so 99’s are excluded, and those with no capacity ratings are excluded).</p>
</div>
<div id="detailed-controls" class="section level2">
<h2><span class="header-section-number">6.5</span> Detailed controls</h2>
<p>We saw above that <code>gave_to_area(business)</code> will find people who have given to the Haas School of Business. By default, this will find anyone who has ever given any amount, at any time. But <code>gave_to_area</code>, like many widgets, has a number of optional arguments that allow more fine-grained control. For example:</p>
<ul>
<li><code>gave_to_area(business, at_least = 10000)</code>: finds anyone who has given at least $10,000 lifetime to the school of Business.</li>
<li><code>gave_to_area(business, at_least = 10000, from = 20160101)</code>: finds anyone who has given at least $10,000 to Business since the beginning of 2016.</li>
<li><code>gave_to_area(business, at_least = 10000, from = 20150101, to = 20151231)</code>: finds anyone who gave at least $10,000 to Business between January 1, 2015 and December 31, 2015.</li>
<li><code>gave_to_area(business, from = 20150101, to = 20151231)</code>: finds anyone who gave anything at all to the school of Business between January 1, 2015 and December 31, 2015</li>
</ul>
<p>As you can see, you can pick and choose which optional arguments you want to use. To find out all of the possible controls for a widget, use the built in help. For example, type <code>?gave_to_area</code>.</p>
</div>
<div id="combining-widgets" class="section level2">
<h2><span class="header-section-number">6.6</span> Combining widgets</h2>
<p>As flexible as individual widgets are, they won’t help you too much by themselves. What makes them really useful is that they can be combined. There are three ways to combine widgets:</p>
<ul>
<li><code>%and%</code> will look for entities who satisfy both widgets</li>
<li><code>%or%</code> will look for entities who satisfy at least one of two widgets</li>
<li><code>%but_not%</code> will look for entities who satisfy a widget but do not satisfy a second widget.</li>
</ul>
<p>Some quick examples:</p>
<p><code>gave_to_area(art_museum) %and% gave_to_area(cal_performances)</code> finds anyone who has given to <strong>both</strong> the Art Museum and Cal Performances.</p>
<p><code>gave_to_area(art_museum) %or% gave_to_area(cal_performances)</code> finds anyone who has ever given to either the Art Museum or to Cal Performances. Note that this would include everyone who was found in the previous (<code>%and%</code>) example, as well as those who only gave to one or the other area.</p>
<p><code>gave_to_area(art_museum) %but_not% gave_to_area(cal_performances)</code> finds anyone who has given to the Art Museum but has not given to Cal Performances.</p>
</div>
<div id="combination-example" class="section level2">
<h2><span class="header-section-number">6.7</span> Combination example</h2>
<p>You’re working with a major gift officer in the School of Business who is surprised to find out that alumni have been giving $15,000+ gifts in response to annual appeals, with no follow-up from major gift officers. She calls you up and says:</p>
<blockquote>
<p>I need to a report on everyone who has given $15,000 or more this year who isn’t yet in a portfolio, and I need it right away!</p>
</blockquote>
<p>You could probably have a savedlist ready before she’s even hung up the phone:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">important_prospects =<span class="st"> </span>
<span class="st">    </span><span class="kw">gave_to_area</span>(business, <span class="dt">at_least =</span> <span class="dv">15000</span>, <span class="dt">from =</span> <span class="dv">20160101</span>) %but_not%<span class="st"> </span>
<span class="st">    </span><span class="kw">in_unit_portfolio</span>(business)

<span class="kw">display</span>(important_prospects)</code></pre></div>
<pre><code>## # A tibble: 74 x 1
##    entity_id
##        &lt;dbl&gt;
## 1     878167
## 2     741407
## 3     433145
## 4      23984
## 5    3106890
## 6    1008005
## 7     612156
## 8    3152758
## 9    3083791
## 10     21159
## # ... with 64 more rows</code></pre>
</div>
<div id="combination-example-2" class="section level2">
<h2><span class="header-section-number">6.8</span> Combination example 2</h2>
<p>So you create your savedlist, run a Prospect Pool Spreadsheet on it, review the results, and send the data and your analysis over to the major gift officer. She notices that several of the people on the list had been in portfolios earlier, so asks if you can find just those who have never been in a portfolio.</p>
<p>You start out by checking if the portfolio widget has any options regarding inactive proposal assignments, by typing <code>?in_unit_portfolio</code>. You see that yes, indeed, there is an option called <code>include_inactive</code> that defaults to <code>FALSE</code>. If you instead set it to <code>TRUE</code> by typing <code>in_unit_portfolio(business, include_inactive = TRUE)</code>, you’d be capturing anyone who has ever been in a Business portfolio, and you can again use <code>%but_not%</code> to subtract those people from the donor list:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">important_prospects =<span class="st"> </span>
<span class="st">    </span><span class="kw">gave_to_area</span>(business, <span class="dt">at_least =</span> <span class="dv">15000</span>, <span class="dt">from =</span> <span class="dv">20160101</span>) %but_not%
<span class="st">    </span><span class="kw">in_unit_portfolio</span>(business, <span class="dt">include_inactive =</span> <span class="ot">TRUE</span>)

<span class="kw">display</span>(important_prospects)</code></pre></div>
<pre><code>## # A tibble: 61 x 1
##    entity_id
##        &lt;dbl&gt;
## 1     878167
## 2     433145
## 3      23984
## 4    3106890
## 5    1008005
## 6     612156
## 7    3152758
## 8    3083791
## 9     393692
## 10   3145542
## # ... with 51 more rows</code></pre>

</div>
</div>



            </section>

          </div>
        </div>
      </div>
<a href="intro-example.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="brainstorm-bot.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/tarakc02/discodocs/edit/master/04-working-with-widgets.Rmd",
"text": "Edit"
},
"download": null,
"toc": {
"collapse": "section"
},
"search": true
});
});
</script>

</body>

</html>
