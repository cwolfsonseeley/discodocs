<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Documentation for discoveryengine</title>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <meta name="description" content="Some documentation for the discoveryengine">
  <meta name="generator" content="bookdown 0.1.3 and GitBook 2.6.7">

  <meta property="og:title" content="Documentation for discoveryengine" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Some documentation for the discoveryengine" />
  <meta name="github-repo" content="tarakc02/discodocs" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Documentation for discoveryengine" />
  
  <meta name="twitter:description" content="Some documentation for the discoveryengine" />
  

<meta name="author" content="Tarak Shah">

<meta name="date" content="2016-08-25">


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="intro-example.html">
<link rel="next" href="test-cdw.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-0.7/htmlwidgets.js"></script>
<script src="libs/datatables-binding-0.2/datatables.js"></script>
<link href="libs/dt-core-1.10.12/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.12/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.12/js/jquery.dataTables.min.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>


  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Documentation for the discoveryengine</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Disco</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#help-wanted"><i class="fa fa-check"></i><b>1.1</b> Help wanted</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="r-intro.html"><a href="r-intro.html"><i class="fa fa-check"></i><b>2</b> Introduction to R and RStudio</a></li>
<li class="chapter" data-level="3" data-path="installation.html"><a href="installation.html"><i class="fa fa-check"></i><b>3</b> Installation</a><ul>
<li class="chapter" data-level="3.1" data-path="installation.html"><a href="installation.html#required-packages"><i class="fa fa-check"></i><b>3.1</b> Required packages</a></li>
<li class="chapter" data-level="3.2" data-path="installation.html"><a href="installation.html#a-disco-test"><i class="fa fa-check"></i><b>3.2</b> A disco test</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="intro-example.html"><a href="intro-example.html"><i class="fa fa-check"></i><b>4</b> An introductory example</a><ul>
<li class="chapter" data-level="4.1" data-path="intro-example.html"><a href="intro-example.html#develop-a-strategy"><i class="fa fa-check"></i><b>4.1</b> Develop a strategy</a></li>
<li class="chapter" data-level="4.2" data-path="intro-example.html"><a href="intro-example.html#create-the-definition"><i class="fa fa-check"></i><b>4.2</b> Create the definition</a></li>
<li class="chapter" data-level="4.3" data-path="intro-example.html"><a href="intro-example.html#send-the-definition-to-the-cdw"><i class="fa fa-check"></i><b>4.3</b> Send the definition to the CDW</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="working-with-widgets.html"><a href="working-with-widgets.html"><i class="fa fa-check"></i><b>5</b> Working with widgets</a><ul>
<li class="chapter" data-level="5.1" data-path="working-with-widgets.html"><a href="working-with-widgets.html#finding-widgets"><i class="fa fa-check"></i><b>5.1</b> Finding widgets</a></li>
<li class="chapter" data-level="5.2" data-path="working-with-widgets.html"><a href="working-with-widgets.html#codes-and-synonyms"><i class="fa fa-check"></i><b>5.2</b> Codes and synonyms</a></li>
<li class="chapter" data-level="5.3" data-path="working-with-widgets.html"><a href="working-with-widgets.html#detailed-controls"><i class="fa fa-check"></i><b>5.3</b> Detailed controls</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="test-cdw.html"><a href="test-cdw.html"><i class="fa fa-check"></i><b>A</b> Test your database set up</a><ul>
<li class="chapter" data-level="A.1" data-path="test-cdw.html"><a href="test-cdw.html#test-your-connection"><i class="fa fa-check"></i><b>A.1</b> Test your connection</a></li>
<li class="chapter" data-level="A.2" data-path="test-cdw.html"><a href="test-cdw.html#opening-rstudio"><i class="fa fa-check"></i><b>A.2</b> Opening RStudio</a></li>
<li class="chapter" data-level="A.3" data-path="test-cdw.html"><a href="test-cdw.html#installing-getcdw"><i class="fa fa-check"></i><b>A.3</b> Installing getcdw</a></li>
<li class="chapter" data-level="A.4" data-path="test-cdw.html"><a href="test-cdw.html#testing-getcdw"><i class="fa fa-check"></i><b>A.4</b> Testing getcdw</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Documentation for discoveryengine</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="working_with_widgets" class="section level1">
<h1><span class="header-section-number">5</span> Working with widgets</h1>
<p>So far, we’ve used widgets in some simple examples. In this section, we’ll explore widgets in some more detail. As always, we’ll begin by loading the <code>discoveryengine</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(discoveryengine)</code></pre></div>
<div id="finding-widgets" class="section level2">
<h2><span class="header-section-number">5.1</span> Finding widgets</h2>
<p>There are two main ways to find widgets. The first is to use the <code>show_widgets</code> function. The function takes no arguments. When you run it, an interactive list of widgets, with short descriptions of each, will appear in your viewer window:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">show_widgets</span>()</code></pre></div>
<div id="htmlwidget-1774f5e07dc1dc1a7276" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-1774f5e07dc1dc1a7276">{"x":{"filter":"none","data":[["attended_event","has_reunion_year","gave_to_area","has_affiliation","has_capacity","has_degree_from","has_implied_capacity","has_interest","has_major_gift_score","has_philanthropic_affinity","in_unit_portfolio","lives_in_county","lives_in_msa","lives_in_zip","on_committee","participated_in","played_sport","received_award","works_in_county","works_in_msa","works_in_zip","majored_in","contact_text_contains","gave_to_department","fund_text_contains","is_a","contacted_entity_of","gave_to_fund","household","parent_of","child_of","related_to"],["Lists entities who have participated in (an) event(s)","Lists entities with given reunion year(s)","Lists entities who gave to specific areas with minimum giving and specific date range","Lists entities with (an) affiliation(s)","Lists entities with capacity ratings","Lists entities with degrees from specific school(s)","Lists entities with implied capacity ratings","Lists entities with interest(s)","Lists entities with major gift scores","Lists entities with philanthropic affinity(ies)","Lists entities with proposals assigned to certain unit(s)","Lists entities who live in (a) certain county(ies)","Lists entities who live in (a) certain MSA(s)","Lists entities who live in (a) certain zip code(s)","Lists entities who are on/have been on committee(s)","Lists entities who participated in (a) student activity(s)","Lists entities who played (a) sport(s)","Lists entities who received (an) award(s)","Lists entities who work in (a) certain county(ies)","Lists entities who work in (a) certain MSA(s)","Lists entities who work in (a) certain zip code(s)","Lists entities who graduated with specific major(s)","Contact reports that contain the specified search string(s)","Lists entities who gave to specific departments with minimum giving and specific date range","Funds with notes/biographies that contain the specified search string(s)","Specify entity type (person or org) and status (active/deceased)","Entities who were contacted in specified contact reports","Entities who have given to specified funds","Get only the primary household entities from a defined list of entities","Get list of parents of specified entities","Get children of specified entities","Get relations of specified entities"],["entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","contact_report_id","entity_id","allocation_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id","entity_id"],["first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","first-order","second-order","second-order","second-order","second-order","second-order","second-order"],["event, activity, attended, participated","class campaign year, reunion, graduation year, class, alumni","area of giving, area, unit, giving, donor","affiliation","capacity, rating, rated","degree, college, school, attended","implied capacity, predictive model, capacity, likelihood","interest","major gift score, predictive model","philanthropic affinity, giving, interest, charitable giving","proposals, assignments, portfolio, office, unit","address, county, home, lives","address, MSA, geo code, home, lives","address, zip, zip code, home, lives","committee, member","student activity, clubs, participated","sports, athlete","award, honor, won, received","address, county, work, business","address, MSA, geo code, work, business","address, zip, zip code,work, business","major, college, school degree, attended, academic","contact report, text, finder, contact, visit, call","department of giving, department, giving, donor","fund, allocation, terms, biography, fund terms, fund biography, finder, giving","active, deceased, person, people, organization, organizations, corporate, corporation","contact report, contact, visit, call","giving","household, married, spouse","parents, family, relations, relationships, children, child","parents, family, relations, relationships, children, child","parents, family, relations, relationships, children, child"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>widget_name\u003c/th>\n      <th>description\u003c/th>\n      <th>ID.type\u003c/th>\n      <th>Order\u003c/th>\n      <th>key_words\u003c/th>\n    \u003c/tr>\n  \u003c/thead>\n\u003c/table>","options":{"order":[[1,"asc"]],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row"}},"evals":[],"jsHooks":[]}</script>
<p>You can browse the entire listing, or use the search bar at the top right to search for specific widgets.</p>
<p>The second way to search for widgets is to use the <code>widget_for</code> function. This function takes as an argument a search term, and finds all widgets that are related to that search term. For example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">widget_for</span>(<span class="st">&quot;giving&quot;</span>)</code></pre></div>
<pre><code>## fund_text_contains:
##     Funds with notes/biographies that contain the specified search string(s)
## gave_to_area:
##     Lists entities who gave to specific areas with minimum giving and specific date range
## gave_to_department:
##     Lists entities who gave to specific departments with minimum giving and specific date range
## gave_to_fund:
##     Entities who have given to specified funds
## has_philanthropic_affinity:
##     Lists entities with philanthropic affinity(ies)</code></pre>
<p>Once you’ve found the widget you’re looking for, you can get additional information using R’s built-in help system. Just type a question mark followed by the name of the widget, e.g. <code>?gave_to_area</code>.</p>
</div>
<div id="codes-and-synonyms" class="section level2">
<h2><span class="header-section-number">5.2</span> Codes and synonyms</h2>
<p>You may have noticed in previous examples that widgets work with exact codes, such as <code>in_unit_portfolio(BU)</code> or with <em>synonyms</em>, such as <code>in_unit_portfolio(business)</code>. Synonyms will always be in lower-case, and may include any letter of the alphabet or the underscore “_&quot; character, and nothing else.</p>
<p>Use whichever feels more comfortable – there is no advantage to using codes vs. synonyms, though I personally find the synonyms easier to read and understand later on. If you’re not sure of the code or synonym to use, try out the synonym search feature that works with most widgets. Instead of entering a code (<code>in_unit_portfolio(BU)</code>) or synonym (<code>in_unit_portfolio(business)</code>), enter a question mark followed by a search string:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">in_unit_portfolio</span>(?business)</code></pre></div>
<pre><code>##   synonym code
##  business   BU</code></pre>
<p>You can enter partial terms:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">in_unit_portfolio</span>(?sci)</code></pre></div>
<pre><code>##                   synonym code
##  lawrence_hall_of_science   LH
##       letters_and_science   LS
##              neuroscience   NS
##    neuroscience_institute   NS
##   quantitative_bioscience   QB
##  quantitative_biosciences   QB</code></pre>
<p>And even multiple search terms:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">in_unit_portfolio</span>(?bus, ?chem, ?public)</code></pre></div>
<pre><code>##        synonym code
##       business   BU
##      chemistry   CH
##  public_health   PH
##  public_policy   PP</code></pre>
<p>Widgets can always accept multiple codes/synonyms as arguments, and even combinations of the two:</p>
<ul>
<li><code>gave_to_area(business)</code> would find anyone who has given to the school of Business</li>
<li><code>gave_to_area(business, chemistry)</code> would find anyone who has given to Business or to Chemistry</li>
<li><code>gave_to_area(HSB, COC)</code> is the same as above</li>
<li><code>gave_to_area(business, COC)</code> once again, the same thing</li>
</ul>
</div>
<div id="detailed-controls" class="section level2">
<h2><span class="header-section-number">5.3</span> Detailed controls</h2>
<p>We saw above that <code>gave_to_area(business)</code> will find people who have given to the Haas School of Business. By default, this will find anyone who has ever given any amount, at any time. But <code>gave_to_area</code>, like many widgets, has a number of optional arguments that allow more fine-grained control. For example:</p>
<ul>
<li><code>gave_to_area(business, at_least = 10000)</code>: finds anyone who has given at least $10,000 lifetime to the school of Business.</li>
<li><code>gave_to_area(business, at_least = 10000, from = 20160101)</code>: finds anyone who has given at least $10,000 to Business since the beginning of 2016.</li>
<li><code>gave_to_area(business, at_least = 10000, from = 20150101, to = 20151231)</code>: finds anyone who gave at least $10,000 to Business between January 1, 2015 and December 31, 2015.</li>
<li><code>gave_to_area(business, from = 20150101, to = 20151231)</code>: finds anyone who gave anything at all to the school of Business between January 1, 2015 and December 31, 2015</li>
</ul>
<p>As you can see, you can pick and choose which optional arguments you want to use. To find out all of the possible controls for a widget, use the built in help. For example, type <code>?gave_to_area</code>.</p>

</div>
</div>



            </section>

          </div>
        </div>
      </div>
<a href="intro-example.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="test-cdw.html" class="navigation navigation-next " aria-label="Next page""><i class="fa fa-angle-right"></i></a>

<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/tarakc02/discodocs/edit/master/04-working-with-widgets.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "section"
},
"search": true
});
});
</script>

</body>

</html>
